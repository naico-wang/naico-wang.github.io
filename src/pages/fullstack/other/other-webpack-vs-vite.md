---
title: 为什么 Webpack 正在慢慢失去领导地位，而在 2024 年无法与 Vite 竞争
date: 2024-09-13
tag: 综合知识
abstract: 老实说，Webpack 多年来一直是 JavaScript 世界中的“打包工具之王”。它为历史上一些最复杂、性能最高的 Web 应用提供了支持。
---

# 为什么 Webpack 正在慢慢失去领导地位，而在 2024 年无法与 Vite 竞争

老实说，Webpack 多年来一直是 JavaScript 世界中的“打包工具之王”。它为历史上一些最复杂、性能最高的 Web 应用提供了支持。

然而，就像技术领域中的一切一样，总有新的玩家出现，挑战现状。这就是 Vite 的诞生——一个新鲜、快速且越来越受欢迎的打包工具，正在吸引开发者的目光并让他们转向它。

在本文中，我将分享我在 Webpack 和 Vite 之间的探索之旅。

我们将深入探讨为什么即便 Webpack 曾长期占据主导地位，但它的流行度却在下降，而和其他开发者为何越来越喜欢 Vite。

此外，我们还会探讨在当今快速变化的世界中，Webpack 是否还有什么可挖掘的潜力。

## Webpack 的崛起与统治

自 2012 年发布以来，Webpack 已成为打包 JavaScript 的标准工具。它拥有庞大的加载器和插件生态系统，功能强大且灵活。

在过去六年左右的时间里，我一直是 Webpack 的忠实支持者。我仍然记得第一次了解到它的潜力时的激动。能够不仅仅打包 JavaScript，还能打包 CSS、图像和字体，这是一种革命性的体验。

由于其模块化设计和依赖管理能力，Webpack 成为构建复杂应用程序的理想工具。

## 效率与适应性

Webpack 的流行部分归因于其多功能性和性能。几乎任何东西都可以定制。需要分割你的打包文件？Webpack 能做到。需要优化你的图片？Webpack 也有相应的插件。它曾经是构建工具中的瑞士军刀，并且长期以来都是必不可少的。

在这六年里，Webpack 多次拯救了我。无论是小型个人项目还是大型企业应用，Webpack 都是我的首选工具。我对它了如指掌，因此它很可靠。

但强大的功能也带来了巨大的复杂性。随着时间的推移，Webpack 的配置文件变得越来越庞大。从一个简单的工具演变成了设置和选项的迷宫。

学习曲线变得陡峭，很快我发现自己花在调整 Webpack 上的时间比在创建应用程序上的时间还要多。

## 细看 Webpack 的表现

为了让你了解我所经历的规模和性能，以下是一些数据：

- 初始构建时间：对于一个中等规模的项目（大约 500 个模块），Webpack 的初始构建时间可能需要 30 到 90 秒，具体取决于配置的复杂性和使用的插件数量。

- 增量构建：使用 Webpack 的热模块替换（HMR），更改通常需要 3-5 秒才能反映出来，这在 Vite 出现之前被认为是非常快的。

- 打包大小：尽管进行了优化，Webpack 仍然往往会生成比预期更大的打包文件，因此需要进一步调整和使用如 `webpack-bundle-analyzer` 这样的插件来识别问题。

这些数字可能看起来并不夸张，但随着项目规模的增加，时间逐渐累积，影响了生产力和开发者体验。

## Vite 的出现

在 2020 年，Vite 诞生了，这是由 Vue.js 的创建者尤雨溪开发的一个新型构建工具。乍一看，Vite 可能只是另一个打包工具，但它远不止于此。Vite 旨在解决开发者在使用 Webpack 时面临的一些最大痛点，尤其是在速度和简易性方面。

## 速度因素

让我们谈谈速度。Vite 非常快——快得惊人。与 Webpack 不同，Webpack 为所有内容使用单个大型打包文件，而 Vite 利用 ES 模块（ESM）在开发期间直接提供源文件。这意味着在开发过程中没有打包步骤，从而实现了几乎即时的热模块替换（HMR）。对我来说，这是一种全新的体验。再也不用在每次更改后等待几秒钟（甚至几分钟）的重建了。

## Vite 的表现数据对比

以下是 Vite 与 Webpack 的对比：

- 初始构建时间：对于相同的中等规模项目，Vite 的初始构建时间约为 1-2 秒。没错，1 到 2 秒！这与我习惯的 Webpack 的 30-90 秒完全是天壤之别。

- 增量构建：Vite 的 HMR 几乎是即时的，在大多数情况下不到 100 毫秒。这意味着更改几乎在你保存文件的同时出现。

- 打包大小：Vite 依靠 ES 模块和内置的优化，通常可以在不需要大量配置的情况下生成更小的打包文件。

## 简单易用

Vite 的简洁性是它迅速流行的另一个原因。还记得那些庞大的 Webpack 配置文件吗？在 Vite 中，它们已经成为过去。

Vite 自带一套合理的默认设置，配置非常简单明了。这种易用性意味着我可以花更少的时间与构建工具搏斗，花更多的时间实际构建我的应用。

在使用 Webpack 的几年里，我已经习惯于花费数小时（有时甚至数天）来调整配置，寻找晦涩难懂的插件，优化构建时间。

当我第一次打开 Vite 的配置文件时，我简直不敢相信它有多干净和简单。这感觉就像是一股清新的空气。

## 生态系统和插件支持

但插件和生态系统支持呢？这是 Webpack 传统的强项。然而，Vite 正在迅速迎头赶上。

Vite 的生态系统正在不断发展，几乎每个使用场景都有插件支持，从 TypeScript 支持到 Vue、React，甚至是旧版浏览器的支持。此外，Vite 设计得高度可扩展，使得编写自定义插件变得轻而易举。

尽管 Vite 的插件系统还在成熟中，但与 Webpack 相比，它更加简单。API 更加简洁，由于 Vite 是基于现代标准构建的，许多插件无需大量配置即可正常工作。

## 为什么 Webpack 正在失去地位

答案在于其复杂性以及现代 Web 开发的优先事项正在发生变化。让我们具体讨论一下。

### 复杂性和配置开销

如前所述，Webpack 的强大功能伴随着代价——复杂性。对于新手开发者，甚至是经验丰富的开发者来说，启动一个新项目时所需的大量配置可能是令人望而生畏的。

管理和优化 Webpack 配置所花费的时间可能会严重影响生产力。作为一个多年来一直支持 Webpack 的人，我亲身经历了这种复杂性。

我记得有一次，我正在处理的一个项目需要集成多个构建步骤，结果花了好几天时间才把 Webpack 配置搞定。这些日子充满了挫折和反复试验，让我开始质疑是否有更好的方法。

## 性能瓶颈

即使有 Webpack 的优化措施，它本质上仍然是一个传统的打包工具。这意味着对于大型项目，重建时间可能变得非常慢。尽管有 Webpack Dev Server 和 HMR 这样的工具帮助，但它们的速度仍然不及 Vite。

根据我的经验，随着项目规模的增长，Webpack 的性能开始出现裂缝。

有时，我会害怕更改应用程序的核心部分，因为我知道构建过程需要花费大量时间才能完成。这是促使我探索 Vite 等替代方案的关键因素之一。

### 现代开发需求的崛起

当今的开发环境正在发生变化。现代框架和库如 Vue 3、React 和 Svelte 正在推动浏览器中可能实现的极限。

这些框架通常利用现代 JavaScript 特性如 ES 模块，并且它们需要能够跟上步伐的构建工具。

Vite 基于 ESM 的方法以及对速度和简易性的关注，完美契合了这些现代需求。

## Webpack 还有救吗？

在今天的世界中，Webpack 还有用武之地吗？当然有。尽管存在缺点，Webpack 仍然是一个强大的工具，特别是对于需要极大灵活性和自定义的大型企业应用程序。

Webpack 5 引入了一些重要的改进，包括更好的缓存、模块联邦和摇树优化功能。

对于需要这些高级功能的项目，Webpack 可能仍然是最佳选择。

然而，对于大多数开发者，尤其是那些处理中小型项目的开发者来说，Vite 提供了一个更具吸引力的选择。Vite 的速度、简洁性和现代化方法难以忽视，越来越多的开发者正因此转向 Vite。

## 结论

在不断发展的 Web 开发世界中，工具的更新换代司空见惯。Webpack 取得了令人印象深刻的成就，并在许多场景下仍然是一个强大的工具。

但随着我们开发者需求的变化，我们的工具也必须随之改变。Vite 代表了对简洁性、速度和更现代化开发方法的转变。对我来说，Vite 是未来，也对许多人来说如此。

所以，如果你还在使用 Webpack，也许是时候尝试一下 Vite 了。你可能会像我一样爱上它。
